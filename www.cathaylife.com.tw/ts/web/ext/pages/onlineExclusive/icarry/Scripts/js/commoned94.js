(function(window,document,jQuery,undefined){"use strict";function commonFn(){this._layout={_body:".jQ-body",_header:".jQ-header",_nav:".jQ-nav",_main:".jQ-main",_content:".jQ-content",_footer:".jQ-footer"},this._event={_uni:0,_init:"[data-init-funs]",_click:"[data-click]",_change:"[data-change]"},this._animate={_elem:".jQ-animate",_endElem:".jQ-animateEnd"},this._accordion={_frame:".jQ-accd",_ctrl:".jQ-accdCtl",_cont:".jQ-accdCnt"},this._active=jQuery(this._layout._main).data("active"),this._angular=[],this._param={_first:"",_second:"",_thrid:""}}var common=new commonFn;commonFn.prototype.kvHeight=function(e){var o=jQuery(e);projects._browsers.safari&&!projects._browsers.chrome&&"M"===projects.device()&&o.css("height",projects.$w.height()-jQuery(common._layout._header).outerHeight(!0))},commonFn.prototype.Angular=function(object){for(var _idx=null,_objects=object.replace(/\s/g,"").split(","),_class={_hide:"b-hide"},i=0,$elem=projects.$b.find("[init]");i<$elem.length;i++){for(var _content=/^.*/.exec(common._angular[i]._outerHTML)[0],j=0;j<_objects.length;j++){var _object=_objects[j];if(_content.replace(/\s/g,"").match(new RegExp("{{"+_object+"}}"))){var _regExp="{{("+_object+"|\\s+"+_object+"\\s+)}}",_exec=new RegExp(_regExp).exec(_content)[0];_content=_content.replace(new RegExp(_exec,"g"),eval(_object)),_idx=common._angular[i]._idx}}if(_idx===common._angular[i]._idx){var _result=common._angular[i]._outerHTML.replace(/^.*/.exec(common._angular[i]._outerHTML)[0],_content);jQuery('[init="'+_idx+'"]')[0].outerHTML=_result,jQuery('[init="'+_idx+'"]').removeClass(_class._hide)}}},commonFn.prototype.initAngular=function(){for(var e={_brackets:/{{\s*(\w*|.*)\s*[^\s]+\s*}}/g,_tagNames:/^\<.*\>/},o=jQuery(common._layout._body).find("*"),a=null,t=0;t<o.length;t++){var n=o.eq(t)[0].outerHTML.match(e._brackets);if(n){var r=!!/^.*/.exec(o.eq(t)[0].outerHTML)&&!!/^.*/.exec(o.eq(t)[0].outerHTML)[0].match(e._brackets);if(r){if(a)for(var _=0;_<n.length;_++){var m=n[_].replace(/[\s\{\}]/g,""),c=new RegExp(m);c.test(a)||(a=a+","+m)}else a=n.join(",").replace(/[\s\{\}]/g,"");o.eq(t).attr("init",t),common._angular.push({_idx:t,_outerHTML:o.eq(t)[0].outerHTML})}}}0!==common._angular.length&&common.Angular(a)},commonFn.prototype.anchor=function(e,o){var a=jQuery('[data-anchor="'+e+'"]');0!==a.length&&(o&&o.preventDefault(),projects.$hb.animate({scrollTop:a.offset().top-jQuery(common._layout._header).outerHeight()},500))},commonFn.prototype.initName=function(){for(var $name=jQuery("[data-init-name]"),_window="",_arr={_name:[],_func:[],_namespaces:[],_path:[],_item:[]},_total=0,_max=0,i=0;i<$name.length;i++)for(var $item=$name.eq(i),_name=$item.data("init-name").replace(/\s/g,"").split(";"),j=0;j<_name.length;j++)_arr._item.push(_name[j]);for(var i=0;i<_arr._item.length;i++){var _namespaces=_arr._item[i].split("."),_func=Array.isArray(_namespaces)?_namespaces.pop():null;_arr._name.push(),_arr._func.push(_func),_arr._namespaces.push(_namespaces),_arr._path.push([]),_max<_namespaces.length&&(_max=_namespaces.length);for(var _key in _namespaces)0==_key?_arr._path[i][_key]="window."+_namespaces[_key]:_arr._path[i][_key]=_arr._path[i][_key-1]+"."+_namespaces[_key]}for(var i=0;i<_arr._namespaces.length;i++){var _namespaces=_arr._namespaces[i];if(_max>_namespaces.length)for(var j=_max-(_max-_namespaces.length);j<_max;j++)_namespaces.splice(j,0,"null");for(var _key in _namespaces)_arr._name[_key]?_arr._name[_key]=_arr._name[_key]+","+_namespaces[_key]:_arr._name[_key]=_namespaces[_key]}for(var j=0;j<_arr._name.length;j++)for(var _num="",k=0,_split=_arr._name[j].split(",");k<_split.length;k++)if(0===j?_window=window[_split[k]]?window[_split[k]]:window[_split[k]]=_arr._func[k]?{}:"":(_total!==j?"null"!==_split[k]&&(_window=_window[_split[k]]?eval(_arr._path[k][j]):eval(_arr._path[k][j-1])[_split[k]]=_arr._func[k]?{}:""):"null"!==_split[k]&&(_window=eval(_arr._path[k][j-1])[_split[k]]?_window:eval(_arr._path[k][j-1])[_split[k]]=_arr._func[k]?{}:""),_total=j),_arr._path[k].length-1===j&&"null"!==_split[k]){var _key=/.*(?=\=)/.test(_arr._func[k])?/.*(?=\=)/.exec(_arr._func[k])[0]:_arr._func[k],_value=/\=([^?&#]*)/.test(_arr._func[k])?/\=([^?&#]*)/.exec(_arr._func[k])[1].replace(/\s/g,""):"";_value=/\'|\"/.exec(_value)?_value.replace(/\'|\"/g,""):"true"===_value||"false"!==_value&&(""===_value?"":Number(_value)),_window=eval(_arr._path[k][j])[_key]=_value}},commonFn.prototype.animation=function(){var e=jQuery(common._animate._elem),o=projects.$w.height(),a=jQuery(common._layout._main).data("animate"),t=200,n=function(){for(var n=0;n<e.length;n++){var r=e.eq(n),_={_top:r.offset().top,_bottom:r.offset().top+r.outerHeight(!0)};projects.$w.scrollTop()+o-t>r.offset().top&&r.addClass(a),r.data("anchor")&&(projects.$w.scrollTop()>_._top-t&&projects.$w.scrollTop()<_._bottom?jQuery(common._layout._nav).find('[data-section="'+r.data("anchor")+'"]').addClass(common._active):jQuery(common._layout._nav).find('[data-section="'+r.data("anchor")+'"]').removeClass(common._active))}};n(),projects.$w.scroll(function(){n()})},commonFn.prototype.accordion=function(){projects.accordion({frame:common._accordion._frame,header:common._accordion._ctrl,content:common._accordion._cont,className:common._active,siblingsClose:jQuery(common._accordion._frame).data("siblings-close")!==undefined&&jQuery(common._accordion._frame).data("siblings-close")})},commonFn.prototype.accordionOpen=function(e){var o=jQuery(e);o.hasClass("is-active")||o.trigger("click")},commonFn.prototype.events=function(self,key,e){var $self=jQuery(self);if(common._event._uni+=1,$self.attr("sf-uni",common._event._uni),0!==$self.length)for(var _funs=$self.data(key).replace(/\;$/,"").split(";"),_array=[],_arrSave=[],_arrayName="arraySF_F2E",_regex={_value:/\((.*)\)/,_space:/^\s|\s$/,_strFirst:/^\'|^\"/,_string:/^\'|^\"|\'$|\"$/g,_noDigital:/\D+/,_arrays:/\[[^\]]*\]/g,_arrayObj:/.\[[^\]]*\]./g},i=0;i<_funs.length;i++){var _funItem=_funs[i].replace(/^\s/,"");if(_funItem){_array.push([]);var _object=_regex._value.exec(_funItem)&&"this"!==_regex._value.exec(_funItem)[1]?"()"===_regex._value.exec(_funItem)[1]?null:"e"===_regex._value.exec(_funItem)[1]?e:_regex._value.exec(_funItem)[1]:self;if("string"==typeof _object){var _hasArray=_regex._arrays.test(_object);if(_hasArray){for(var j=0,_match=_object.match(_regex._arrays);j<_match.length;j++)_arrSave.push(_match[j]);_object=_object.replace(_regex._arrays,_arrayName)}for(var j=0,_obj=_object.split(",");j<_obj.length;j++){var _objItem=_obj[j].replace(_regex._space,"");new RegExp(_arrayName).test(_objItem)?(_regex._string.test(_objItem)?_objItem=_arrSave[0]:(_objItem=_arrSave[0],_objItem=eval(_objItem)),_arrSave.splice(0,1)):_regex._strFirst.exec(_objItem)?_objItem=_objItem.replace(_regex._string,""):""===_objItem||_regex._noDigital.exec(_objItem)?"this"===_objItem?_objItem=self:"e"===_objItem?_objItem=e:(/this/.exec(_objItem)&&(_objItem=_objItem.replace(/this/,'"[sf-uni='+jQuery(self).attr("sf-uni")+']"')),_objItem=eval(_objItem)):_objItem=Number(_objItem),_array[i].push(_objItem)}}else _array[i].push(_object);projects.execFun(_funItem,_array[i])}}},commonFn.prototype.openNav=function(e){var o=jQuery(e);o.toggleClass(common._active),jQuery(common._layout._body).toggleClass(common._active)},commonFn.prototype._job={_frame:".jQ-job",_first:".jQ-jobFirst",_second:".jQ-jobSecond",_thrid:".jQ-jobThrid"},commonFn.prototype._job.init=function(e){var o=jQuery(e);if(0!==o.length)for(var a=0;a<o.length;a++)for(var t=o.eq(a),n=0;n<_job.length;n++){var r=_job[n],_=t.find("option").eq(0).clone().text(r.title).val(n);t.append(_)}},commonFn.prototype._job.getPrice=function(){for(var e=0,o=jQuery(".jQ-price");e<o.children().length;e++){var a=o.children().eq(e),t=jQuery('[data-eq="'+e+'"]');if(0!==t.length){var n=t.children("option:selected").data("type");a.empty().append(_type[common._param._level-1].price[n])}}jQuery(".jQ-sort").empty().append(_job[common._param._first].sub[common._param._second].sub[common._param._thrid].title),jQuery(".jQ-sortLevel").empty().append("1"===common._param._level?"一":"2"===common._param._level?"二":"3"===common._param._level?"三":"4"===common._param._level?"四":"一")},commonFn.prototype._job.get=function(e){var o=jQuery(e),a=jQuery(e).parents(common._job._frame),t=a.find(common._job._first),n=a.find(common._job._second),r=a.find(common._job._thrid),_={_elem:o.val(),_first:t.val(),_second:n.val()},m={$second:n.find("option:eq(0)").clone(),$thrid:r.find("option:eq(0)").clone()};if(new RegExp(common._job._first.replace(".","")).test(o[0].className)&&(n.empty().append(m.$second).prop("disabled",!0),r.empty().append(m.$thrid).prop("disabled",!0),_._elem)){for(var c=0,i=_job[_._elem].sub;c<i.length;c++){var s=i[c],p=o.find("option").eq(0).clone().text(s.title).val(c);n.append(p)}n.prop("disabled",!1)}if(new RegExp(common._job._second.replace(".","")).test(o[0].className)&&(r.empty().append(m.$second).prop("disabled",!0),_._elem)){for(var c=0,i=_job[t.val()].sub[_._elem].sub;c<i.length;c++){var s=i[c],p=o.find("option").eq(0).clone().text(s.title).val(s.key).data("label",s.level).data("eq",c);r.append(p)}r.prop("disabled",!1)}if(new RegExp(common._job._thrid.replace(".","")).test(o[0].className)&&_._elem){var l=o.children("option:selected"),d=l.data("label");d<5&&d>0?(common._param._code=o.val(),common._param._level=d,common._param._first=_._first,common._param._second=_._second,common._param._thrid=l.data("eq")):(common._param._code="00010010",common._param._level="1",common._param._first="0",common._param._second="0",common._param._thrid="0"),common._job.getPrice(),common.Angular("common._param._type1, common._param._type2, common._param._code, common._param._level")}},commonFn.prototype._job.label=function(e){var o=jQuery(common._job._thrid);jQuery.sugarfunbox.close(),(o.children("option:selected").data("label")>4||o.children("option:selected").data("label")<1)&&common.popup(e)},commonFn.prototype._job.field=function(e,o){common._param._code=e,common._param._level=o,common._param._first="0",common._param._second="0",common._param._thrid="1"===o?"0":"1",common._job.getPrice(),common.Angular("common._param._type1, common._param._type2, common._param._code, common._param._level")},commonFn.prototype._job.clear=function(e){var o=e.find(common._job._first),a=e.find(common._job._second),t=e.find(common._job._thrid),n={$second:a.find("option:eq(0)").clone(),$thrid:t.find("option:eq(0)").clone()};o.find("option").eq(0).prop("selected",!0),a.empty().append(n.$second).prop("disabled",!0),t.empty().append(n.$thrid).prop("disabled",!0)},commonFn.prototype.url=function(e){var o=jQuery(e),a=o.val();return a&&(window.location=a),!1},commonFn.prototype.popup=function(e){var o=$(e);$.sugarfunbox.open({content:o,width:{md:o.data("width-md"),sm:o.data("width-sm"),xs:o.data("width-xs")},height:{md:o.data("height-md")?o.data("height-md"):"auto",sm:o.data("height-sm")?o.data("height-sm"):"auto",xs:o.data("height-xs")?o.data("height-xs"):"auto"},closeBtn:!0,closeElem:o.data("close-btn"),supportMobile:!0,afterClose:o.data("after-close")?function(){projects.execFun(o.data("after-close"),[this.content])}:null})},commonFn.prototype.count=function(e){for(var o=jQuery(e),a=jQuery("[data-eq]"),t={_pos:o.data("eq"),_type:0|o.val()},n=o.children("option:selected").data("type"),r=0;r<a.length;r++){var _=a.eq(r);_.data("eq")!==t._pos&&_.children().removeAttr("disabled").eq(t._type).attr("disabled",!0)}if(_type)for(var m in _type[t._type]){var _=jQuery(".jQ-"+m),c=_type[t._type][m];"icon"===m?_.children().eq(t._pos).find(".jQ-"+m+"Elem").empty().append(c):_.children().eq(t._pos).empty().append(c)}common._param["_type"+t._pos]=n,jQuery(".jQ-price").children().eq(t._pos).empty().append(_type[common._param._level-1].price[n]),common.Angular("common._param._type1, common._param._type2, common._param._code, common._param._level")},commonFn.prototype.addclass=function(e){var o=jQuery(e),a=o.offset().top;projects.$w.on("scroll",function(){projects.$w.scrollTop()>a?(o.addClass(o.data("add")),jQuery(common._layout._content).css("padding-top",a)):(o.removeClass(o.data("add")),jQuery(common._layout._content).removeAttr("style"))})},projects.$d.on("click",common._event._click,function(e){common.events(this,e.type,e)}).on("change",common._event._change,function(e){common.events(this,e.type,e)}),projects.$d.ready(function(){common.events(common._event._init,"init-funs")}),window.common||(window.common=common)})(window,document,jQuery);